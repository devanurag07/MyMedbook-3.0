(this["webpackJsonpqueue-management"]=this["webpackJsonpqueue-management"]||[]).push([[20],{1171:function(e,t,s){"use strict";s.r(t);var a=s(61),r=s(35),i=s(62),n=s(63),c=s(0),o=s.n(c),l=s(64),d=(s(263),s(46)),m=s(200),u=s(372),b=s(25),h=s(24),j=s(217),p=s.n(j),v=s(73),O=s(3),f=function(e){Object(i.a)(s,e);var t=Object(n.a)(s);function s(e){var r;return Object(a.a)(this,s),(r=t.call(this,e)).notify=function(e){return Object(v.b)(e)},r.submitHandler=function(e,t){e.preventDefault(),t.otp?(t.mobile=r.state.mobile,r.verifyOTP(t)):t.password?(t.user_id=r.state.user_id,r.setNewPassword(t)):(r.setState({formValues:t}),r.sendOTP(t))},r.switchAuthModeHandler=function(){r.setState((function(e){return{isSignup:!e.isSignup}}))},r.state={formValues:{first_name:"",email:"",mobile:"",password:"",otp:""},emailExist:!1},r}return Object(r.a)(s,[{key:"sendOTP",value:function(e){var t=this;Object(b.c)(h.a+"api/common/reset-password-otp/",e).then((function(s){var a=s.data;t.setState({showOtp:!0,user_id:a.user_id,mobile:e.mobile,errorMessage:null}),t.notify("OTP sent to your mobile number")})).catch((function(e){t.setState({errorMessage:"Please enter valid mobile/email"})}))}},{key:"verifyOTP",value:function(e){var t=this;Object(b.c)(h.a+"api/common/verify-reset-password-otp/",e).then((function(e){t.setState({showPassword:!0,errorMessage:null})})).catch((function(e){t.setState({errorMessage:"Please enter valid otp"})}))}},{key:"setNewPassword",value:function(e){var t=this;Object(b.c)(h.a+"api/common/set-new-password/",e).then((function(e){t.notify("New Password updated!"),t.props.history.push("/login")})).catch((function(e){t.setState({errorMessage:"Failed to set password"})}))}},{key:"render",value:function(){return Object(O.jsxs)(o.a.Fragment,{children:[Object(O.jsxs)("section",{className:"position-relative",children:[Object(O.jsx)(p.a,{id:"particles-js",params:{particles:{number:{value:160,density:{enable:!0,value_area:800}},color:{value:"#1360ef"},shape:{type:"circle",stroke:{width:0,color:"#f94f15"},polygon:{nb_sides:5},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:1,random:!0,anim:{enable:!0,speed:1,opacity_min:0,sync:!1}},size:{value:3,random:!0,anim:{enable:!1,speed:4,size_min:.3,sync:!1}},line_linked:{enable:!1,distance:150,color:"#ffffff",opacity:.4,width:1},move:{enable:!0,speed:1,direction:"none",random:!0,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:600}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"bubble"},onclick:{enable:!0,mode:"repulse"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:250,size:0,duration:2,opacity:0,speed:3},repulse:{distance:400,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0}}),Object(O.jsx)("div",{className:"container",children:Object(O.jsx)("div",{className:"row  text-center",children:Object(O.jsx)("div",{className:"col",children:Object(O.jsx)("h1",{children:"Forgot Password"})})})})]}),Object(O.jsx)("div",{className:"page-content",children:Object(O.jsx)("section",{className:"register",children:Object(O.jsx)("div",{className:"container",children:Object(O.jsx)("div",{className:"row justify-content-center text-center",children:Object(O.jsxs)("div",{className:"col-5",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"Forgot your password?"}),Object(O.jsx)("p",{children:"Enter your email/mobile to reset your password."})]}),this.state.errorMessage&&Object(O.jsx)(u.a,{color:"danger",isOpen:!!this.state.errorMessage,children:Object(O.jsx)("div",{children:this.state.errorMessage})}),Object(O.jsxs)(m.AvForm,{onValidSubmit:this.submitHandler,model:this.state.formValues,children:[!this.state.showOtp&&Object(O.jsx)("div",{className:"row",children:Object(O.jsx)("div",{className:"col-md-12",children:Object(O.jsx)("div",{className:"form-group",children:Object(O.jsx)(m.AvInput,{type:"text",name:"mobile",className:"form-control",placeholder:"Please enter email/mobile",required:!0})})})}),this.state.showPassword&&Object(O.jsx)("div",{className:"col-md-12",children:Object(O.jsx)("div",{className:"form-group",children:Object(O.jsx)(m.AvInput,{type:"password",name:"password",className:"form-control",placeholder:"Password",required:!0})})}),this.state.showOtp&&!this.state.showPassword&&Object(O.jsx)("div",{className:"row",children:Object(O.jsxs)("div",{className:"col-md-12",children:[Object(O.jsx)("div",{className:"form-group",children:Object(O.jsx)(m.AvInput,{type:"number",name:"otp",className:"form-control",placeholder:"Please enter otp",required:!0})}),Object(O.jsx)("div",{className:"form-text mb-2",children:"Please enter the otp that you received your registered Mobile"})]})}),Object(O.jsx)("div",{className:"row",children:Object(O.jsxs)("div",{className:"col-md-12",children:[Object(O.jsx)("input",{type:"submit",value:this.state.showPassword?"Set New Password":this.state.showOtp?"Verify OTP":"Send OTP",className:"btn btn-primary"}),Object(O.jsxs)("span",{className:"mt-4 d-block",children:["Have An Account ?"," ",Object(O.jsxs)(l.c,{to:"/login",children:[Object(O.jsx)("i",{children:"Sign In!"})," "]})]})]})})]})]})})})})})]})}}]),s}(c.Component);t.default=Object(d.b)((function(e){var t=e.Auth;return{user:t.user,loading:t.loading,registerError:t.registerError}}))(f)},263:function(e,t,s){}}]);
//# sourceMappingURL=20.b9583cc4.chunk.js.map